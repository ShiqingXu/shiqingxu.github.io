---
title: 重新部署基于 Cloudflare workers & pages 的代理
date: 2025-04-14 11:24:44
tags: 折腾

---

很久之前基于 Cloudflare workers 搭建的自用代理一直稳定运行，即使在 Cloudflare 官方表示要打击代理类应用之后 ，也没出过什么问题，速度也没什么可抱怨的。不过一直有个问题，就是某些相对常用的网站无法访问，例如 z-library。

<!--more-->

遇到这样的网站通常会临时切换到其它线路，近期操作比较频繁，故寻思对 CF  的这条线路进行升级以改善该状况，查资料发现搭建方法已经有了较大更新。

按照教程一路做下来，比较顺利，完成之后解锁了一些之前无法访问的网站，但并非每一个都有效，不过问题不大，没那么常用的网站还是继续通过临时切换线路的方式来解决。

考虑到下一次升级时大概率依然要参考网络上最新的方法而不是自己记录下来的过程，此处就不详述过程了，仅简单记录一下步骤。

- 新建一个 GitHub repo，将 BPB Panel 项目代码同步到该仓库
- 配置并执行 GitHub Actions
- CF 上创建 Pages，连接到上一步的 GitHub repo
- 绑定自定义域名（可选）
- 设置变量（UUID、PROXYIP、TR_PASS等）
- 创建一个 KV 命名空间并绑定，名称自定义但不能包含 bpb 字眼
- 重试部署 Pages
- 访问自定义域名/panel，检查是否成功部署
- 第一次进入时会被要求修改密码，设置一个强密码
- 配置 BPB 面板参数
- 保存设置
- 导出节点订阅链接。

之后即可通过相关客户端订阅该链接使用了。

总的来说比之前直接在 workers 里复制粘贴一些代码并填个 UUID 和 PROXY_IP 的方式复杂了一点点，但按步骤操作倒也没什么难度。

